<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Waygo - Travel Management</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <div class="logo">âœˆï¸ <h1>Waygo</h1></div>
    <nav>
      <ul>
        <li><a href="#">Home</a></li>
        <li id="nav-itinerary"><a href="#itinerary">My Itineraries</a></li>
        <li id="nav-budget"><a href="#budget">Budget</a></li>
        <li id="nav-favorites"><a href="#favorites">Favorites</a></li>
        <li id="nav-history"><a href="history.html">History</a></li>
        <li><a href="login.html" id="profile-link">Profile</a></li>
        <li id="logout-btn" style="display:none;"><a href="#" onclick="logout()">Logout</a></li>
      </ul>
</nav>
  </header>

  <section class="search">
    <h2>Search destinations</h2>
    <form onsubmit="event.preventDefault(); searchDestinations();">
      <input type="text" id="search-input" placeholder="Search destination, country or activity..." />
      <select id="filter-country">
        <option value="">All countries</option>
      </select>
      <button type="submit">Search</button>
    </form>

    <div id="results" class="results-container"></div>
  </section>

  <main>
    <section id="itinerary">
      <h3>ğŸ—ºï¸ Interactive Map & Itinerary</h3>
      <div id="map"></div>

      <div id="itinerary-panel" class="panel">
        <h4>Your itinerary</h4>
        <ul id="itinerary-list"></ul>
        <button onclick="clearItinerary()" class="small-ghost">Clear itinerary</button>
        <button onclick="saveItineraryToHistory()">ğŸ’¾ Save to Travel History</button>
        <button onclick="window.location.href='history.html'">ğŸ“œ View History</button>
      </div>
    </section>

    <section class="budget" id="budget">
      <h3>ğŸ’° Trip Budget Manager</h3>
      <label>Total budget ($): </label>
      <input type="number" id="budget-input" placeholder="Enter your total budget">
      <button onclick="saveBudget()">ğŸ’¾ Save Budget</button>

      <div class="budget-display">
        <p id="budget-display">Current Budget: $0</p>
        <div class="budget-bar">
          <div id="budget-progress"></div>
        </div>
      </div>

      <div class="expenses">
        <h4>ğŸ’¸ Add an Expense</h4>
        <input type="text" id="expense-name" placeholder="Expense name">
        <input type="number" id="expense-amount" placeholder="Amount ($)">
        <button onclick="addExpense()">â• Add</button>

        <ul id="expense-list"></ul>
      </div>
    </section>

    <section id="favorites">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h3 style="margin: 0;">â¤ï¸ Favorites</h3>
        
        <div class="fav-actions">
            <button onclick="exportFavoritesToText()" style="background-color: #6c757d; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; margin-right: 5px;">
                ğŸ“‹ Share List
            </button>
            <button onclick="clearAllFavorites()" style="background-color: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">
                ğŸ—‘ Clear All
            </button>
        </div>
      </div>

      <div id="favorites-container"></div>
    </section>
    

    <!-- Reviews (kept simple like you wanted) -->
    <section id="reviews">
      <h3>â­ User Reviews</h3>
      <p id="review-stats" class="muted"></p>

      <div class="review-list">
        <div class="review-card">
          <strong>Manon</strong> <span class="review-date">(22/04/2025)</span>
          <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
          <p>Waygo helped me plan my trip to Japan easily!</p>
        </div>

        <div class="review-card">
          <strong>Liam</strong> <span class="review-date">(10/03/2025)</span>
          <div class="review-stars">â˜…â˜…â˜…â˜…â˜†</div>
          <p>Clean interface and very practical travel manager.</p>
        </div>

        <div class="review-card">
          <strong>Paul</strong> <span class="review-date">(18/02/2025)</span>
          <div class="review-stars">â˜…â˜…â˜…â˜…â˜†</div>
          <p>Love it! I even shared my trip with my friends.</p>
        </div>
      </div>

      <div class="review-form">
        <h4>Leave your review</h4>
        <label>Your rating:</label>
        <div class="stars" id="rating">
          <span data-value="1">â˜…</span>
          <span data-value="2">â˜…</span>
          <span data-value="3">â˜…</span>
          <span data-value="4">â˜…</span>
          <span data-value="5">â˜…</span>
        </div>
        <textarea id="review-input" placeholder="Write your comment..."></textarea>
        <button onclick="addReview()">Submit</button>
      </div>

      <div id="review-stats"></div>

      <div class="review-toolbar">
        <label for="review-sort">Sort by:</label>
        <select id="review-sort">
          <option value="relevance_desc">Most relevant</option>
          <option value="relevance_asc">Least relevant</option>
          <option value="date_desc">Most recent</option>
          <option value="date_asc">Oldest first</option>
        </select>
      </div>

      <div id="user-reviews"></div>
    </section>

  </main>

  <footer>
    <p>Â© 2025 Waygo â€” Travel smarter, live better ğŸŒ | Contact: <a href="mailto:contact@waygo.com">contact@waygo.com</a></p>
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- data and script -->
  <script src="data.js"></script>
  <script src="script.js"></script>
  <script src="favorites.js"></script>
</body>
</html>
